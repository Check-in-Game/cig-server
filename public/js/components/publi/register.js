(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{HDOt:function(t,e,a){(t.exports=a("aQ7W")(!1)).push([t.i,"\n.public-register[data-v-aea8fb52] {\r\n  margin-top: 50px;\n}\n.spin-content[data-v-aea8fb52] {\r\n  border: 1px solid #91d5ff;\r\n  background-color: #e6f7ff;\r\n  padding: 30px;\n}\r\n",""])},JGYa:function(t,e,a){var s=a("HDOt");"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("7B2p")(s,r);s.locals&&(t.exports=s.locals)},XiiE:function(t,e,a){"use strict";a.r(e);var s={data:function(){return{url:staticurl+"/images/logo/logo_256.png",username:"",password:"",password2:"",captcha:"",refresh_code:1,code:code_url,load_stat:!0,load_delay:1e3,register_available:!0,available_username:!1,username_input_tooltip_show:!1,username_input_tooltip_type:"close-circle",username_input_tooltip_style:"color: rgba(255,0,0,.45)",username_input_tooltip_title:"用户名需要使用字母开头，6~16位且不可使用字母、数字、下划线以外的字符"}},mounted:function(){this.codeRefresh(),this.check_channel()},methods:{check_channel:function(){var t=this;this.load_stat=!0,this.$http.get(baseurl+"/api/sysconf/register").then((function(e){t.load_stat=!1,"false"==e.data.body&&(t.register_available=!1,t.$message.error("十分抱歉，注册通道处于关闭状态！"))})).catch((function(e){t.$message.warning("暂时无法获取注册通道状态，请稍候再试！"),t.load_delay=0}))},forgetPassword:function(){router.push({name:"forgetPassword"})},login:function(){router.push({name:"login"})},codeRefresh:function(){this.refresh_code++,this.code=code_url+this.refresh_code},verify_username:function(){this.username.length>5?this.username_input_tooltip_show=!0:this.username_input_tooltip_show=!1;return/^[A-Za-z][A-Za-z0-9_]{5,15}$/.test(this.username)?(this.username_input_tooltip_type="check-circle",this.username_input_tooltip_style="color: rgba(12,140,12,.65)",void(this.username_input_tooltip_title="用户名合法")):(this.username_input_tooltip_type="close-circle",this.username_input_tooltip_style="color: rgba(255,0,0,.45)",void(this.username_input_tooltip_title="用户名需要使用字母开头，6~16位且不可使用字母、数字、下划线以外的字符"))},register:function(){var t=this;if(/^[A-Za-z][A-Za-z0-9_]{5,15}$/.test(this.username))if(/^[\S\s]{8,16}$/.test(this.password)){if(this.password==this.password2)return/^.{4,8}$/.test(this.captcha)?void this.$http.post(baseurl+"/api/register",{username:this.username,password:this.password,captcha:this.captcha}).then((function(e){return"200"==e.data.errno?(t.load_stat=!0,void(location.href=baseurl+"/user")):(t.$message.error("注册失败："+e.data.errzh),"Bad captcha."==e.data.error?(t.codeRefresh(),void(t.captcha="")):"Unavailable username."==e.data.error?(t.username="",t.username_input_tooltip_type="close-circle",t.username_input_tooltip_style="color: rgba(255,0,0,.45)",void(t.username_input_tooltip_title="用户名已经存在")):"Channel closed."==e.data.error?void(t.register_available=!1):void 0)})).catch((function(e){t.$message.error("注册失败：服务器内部错误"),t.codeRefresh(),t.captcha=""})):(this.captcha="",void this.$message.error("验证码错误"));this.$message.error("两次密码输入不一致")}else this.$message.error("密码长度需要满足8~16位");else this.$message.error("用户名需要使用字母开头，6~16位且不可使用字母、数字、下划线以外的字符")}}},r=(a("eOzz"),a("QCOi")),i=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"public-register"},[a("div",{staticClass:"text-center",staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:t.url,alt:"logo",width:"100px;"}})]),t._v(" "),a("h1",{staticStyle:{"text-align":"center","margin-top":"25px"}},[t._v("Checkin Game v4")]),t._v(" "),a("div",{staticStyle:{"margin-top":"25px"}},[a("a-spin",{attrs:{spinning:t.load_stat,tip:"请稍候...",delay:t.load_delay}},[a("a-row",[a("a-col",{attrs:{xs:0,sm:0,md:4,lg:6,xl:8}}),t._v(" "),a("a-col",{attrs:{xs:24,sm:24,md:16,lg:12,xl:8}},[a("a-card",{staticStyle:{"text-align":"center"},attrs:{title:"注册"}},[t.register_available?a("div",[a("a-input",{attrs:{placeholder:"在此输入用户名",allowClear:"",tabindex:"1","auto-focus":""},on:{change:t.verify_username},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}},[a("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"}),t._v(" "),a("a-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.username_input_tooltip_show,expression:"username_input_tooltip_show"}],attrs:{slot:"suffix",title:t.username_input_tooltip_title},slot:"suffix"},[a("a-icon",{style:t.username_input_tooltip_style,attrs:{type:t.username_input_tooltip_type}})],1)],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("a-input-password",{attrs:{placeholder:"在此输入密码",allowClear:"",tabindex:"2"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("a-input-password",{attrs:{placeholder:"重复输入一次密码",allowClear:"",tabindex:"3"},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("a-row",[a("a-col",{attrs:{span:"16"}},[a("a-input",{attrs:{placeholder:"验证码",allowClear:"",tabindex:"4"},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}},[a("a-icon",{attrs:{slot:"prefix",type:"code"},slot:"prefix"})],1)],1),t._v(" "),a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:"8"},on:{click:t.codeRefresh}},[a("img",{attrs:{solt:"addonAfter",src:t.code,height:"32px"}})])],1)],1):a("a-alert",{staticStyle:{margin:"20px 0"},attrs:{message:"注册通道关闭",description:"注册通道临时关闭了，稍候再来试试吧~",type:"error","show-icon":""}}),t._v(" "),a("div",{staticStyle:{"margin-top":"32px","line-height":"32px",clear:"both"}},[a("a-button",{staticStyle:{float:"left","padding-left":"0"},attrs:{type:"link"},on:{click:t.login}},[a("small",[t._v("已有账户？马上登录！")])]),t._v(" "),t.register_available?a("div",[a("a-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.register}},[t._v("\n                  注册\n                ")])],1):t._e()],1)],1)],1),t._v(" "),a("a-col",{attrs:{xs:0,sm:0,md:4,lg:6,xl:8}})],1)],1)],1)])}),[],!1,null,"aea8fb52",null);e.default=i.exports},eOzz:function(t,e,a){"use strict";var s=a("JGYa");a.n(s).a}}]);